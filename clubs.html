<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clubs</title>

  <!-- CSS base do site -->
  <link rel="stylesheet" href="./styles.css" />
  <!-- CSS do módulo Clubs (grid + mapa + drawer) -->
  <link rel="stylesheet" href="./clubs2.css" />

  <!-- Leaflet (mapa) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
</head>

<body>
  <header class="navbar">
    <div class="nav-left">
      <img id="siteLogo" class="logo-img" alt="Logo" />
      <nav class="navLinks">
        <a href="index.html">Home</a>
        <a href="clubs.html">Clubs</a>
        <a href="clubs2.html">Clubs 2.0</a>
        <a href="shopping.html">Shopping</a>
        <a href="capdagde.html">Cap D'Agde</a>
        <a href="outras.html">Others</a>
      </nav>
    </div>
  </header>

  <!-- Filters -->
  <div class="filtersBar">
    <div class="filtersInner">
      <input id="searchInput" class="searchInput" placeholder="Search by name..." />
      <select id="countryFilter" class="select"></select>
      <select id="cityFilter" class="select" disabled></select>
      <button id="viewGrid" class="btn active" type="button">Grid</button>
      <button id="viewMap" class="btn" type="button">Map</button>
      <button id="clearFilters" class="btn" type="button">Clear</button>
      <div id="resultsCount" class="count">0 results</div>
    </div>
  </div>

  <main class="content">
    <div id="errorBox" class="errorBox hidden"></div>

    <div id="gridView" class="grid"></div>

    <div id="mapView" class="map hidden">
      <div id="mapCanvas" class="mapCanvas"></div>
      <div class="mapHint">Dica: só aparecem marcadores para clubes com latitude/longitude.</div>
    </div>
  </main>

  <!-- Side panel -->
  <div id="panelOverlay" class="panelOverlay hidden" aria-hidden="true"></div>
  <aside id="panel" class="panel hidden" aria-hidden="true">
    <button id="closePanel" class="panelClose" aria-label="Close">×</button>
    <div id="panelBody" class="panelBody"></div>
  </aside>

  <!-- config FIRST (define window.CONFIG) -->
  <script src="./config.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- app -->
  <script type="module">
    import { initLogo, setActiveNav } from "./ui-common.js";
    import { initClubs2 } from "./clubs2-app.js";

    initLogo();
    setActiveNav();
    initClubs2();
  </script>
</body>
</html>
